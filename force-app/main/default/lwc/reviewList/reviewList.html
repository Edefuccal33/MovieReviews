<template>
	<lightning-card title="Reviews" icon-name="custom:custom9">
		<div class="slds-p-around_x-small">
			<template if:true={hasResults}>
				<ul class="slds-has-dividers_bottom-space">
					<li class="slds-item">
						<lightning-badge label={countReviews} class="slds-badge_inverse"></lightning-badge> <b>Reviews for {movieTitle}!</b>
					</li>
				</ul>
				<ul class="slds-has-dividers_bottom-space">
				<li class="slds-item">
					<template for:each={reviews} for:item="review">
						<lightning-tile key={review.Id} label={review.Author__c} href="" type="media">
							<lightning-avatar slot="media" src="https://www.lightningdesignsystem.com/assets/images/avatar1.jpg" fallback-icon-name="standard:person_account" alternative-text="Bruce Wayne"></lightning-avatar>
							<ul class="slds-list_horizontal slds-has-dividers_right">
								<li class="slds-item">{review.Comment__c}</li>
								<li class="slds-item">
									<lightning-badge label={review.Qualification__c} icon-name="custom:custom11"></lightning-badge>
								</li>
							</ul>
						</lightning-tile>
					</template>
				</li>
				</ul>
			</template>
			<template if:false={hasResults}>
				<template if:false={movieNotSelected}>
					<div class="slds-text-heading_small">No reviews for <b>{movieTitle}</b>. Create the first one!</div>
				</template>
				<template if:true={movieNotSelected}>
					<div class="slds-text-heading_small">Search and select a movie above to see its reviews!</div>
				</template>
			</template>
		</div>
	</lightning-card>
</template>